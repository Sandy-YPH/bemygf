<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Will You Be My Girlfriend? üí´</title>
    <style>
        :root {
            --pink: #ff6b6b;
            --blue: #74b9ff;
            --dark-blue: #0984e3;
            --light-pink: #ff8e8e;
            --gold: #f9ca24;
            --orange: #f0932b;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Arial, sans-serif;
            overflow: hidden;
            background: #000;
            color: white;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            touch-action: manipulation;
        }

        #canvas-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
        }

        .container {
            text-align: center;
            z-index: 10;
            position: relative;
            animation: fadeIn 2s ease-in;
            padding: 20px;
            max-width: 90vw;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        h1 {
            font-size: clamp(2em, 8vw, 3.5em);
            margin-bottom: 30px;
            text-shadow: 0 0 20px rgba(255, 255, 255, 0.5);
            animation: glow 2s ease-in-out infinite alternate;
            line-height: 1.2;
        }

        @keyframes glow {
            from { text-shadow: 0 0 20px rgba(255, 255, 255, 0.5); }
            to { text-shadow: 0 0 30px rgba(255, 182, 193, 0.8), 0 0 40px rgba(255, 182, 193, 0.8); }
        }

        .buttons {
            display: flex;
            gap: 20px;
            justify-content: center;
            margin-top: 40px;
            flex-wrap: wrap;
        }

        button {
            padding: 15px 40px;
            font-size: clamp(1.2em, 4vw, 1.5em);
            border: none;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: bold;
            position: relative;
            overflow: hidden;
            min-width: 120px;
            touch-action: manipulation;
            -webkit-tap-highlight-color: transparent;
        }

        #yesBtn {
            background: linear-gradient(45deg, var(--pink), var(--light-pink));
            color: white;
            box-shadow: 0 4px 15px rgba(255, 107, 107, 0.4);
        }

        #yesBtn:hover {
            transform: scale(1.05);
            box-shadow: 0 6px 20px rgba(255, 107, 107, 0.6);
        }

        #yesBtn:active {
            transform: scale(0.95);
        }

        #noBtn {
            background: linear-gradient(45deg, var(--blue), var(--dark-blue));
            color: white;
            box-shadow: 0 4px 15px rgba(116, 185, 255, 0.4);
            transition: all 0.3s ease;
        }

        #noBtn:hover {
            transform: scale(1.05);
            box-shadow: 0 6px 20px rgba(116, 185, 255, 0.6);
        }

        #thankYouContainer {
            display: none;
            text-align: center;
            z-index: 10;
            position: relative;
            animation: fadeInScale 1.5s ease-out;
        }

        @keyframes fadeInScale {
            0% { 
                opacity: 0; 
                transform: scale(0.5) rotate(-10deg); 
            }
            50% { 
                opacity: 0.8; 
                transform: scale(1.1) rotate(5deg); 
            }
            100% { 
                opacity: 1; 
                transform: scale(1) rotate(0deg); 
            }
        }

        #thankYouMessage {
            font-size: clamp(3em, 12vw, 6em);
            animation: celebrationBounce 2s ease-in-out infinite;
            text-shadow: 0 0 30px rgba(255, 255, 255, 0.8);
            margin-bottom: 20px;
        }

        @keyframes celebrationBounce {
            0%, 100% { 
                transform: scale(1) rotate(0deg); 
                text-shadow: 0 0 30px rgba(255, 255, 255, 0.8);
            }
            25% { 
                transform: scale(1.1) rotate(-5deg); 
                text-shadow: 0 0 40px rgba(255, 182, 193, 1);
            }
            75% { 
                transform: scale(1.1) rotate(5deg); 
                text-shadow: 0 0 40px rgba(255, 182, 193, 1);
            }
        }

        .subtitle {
            font-size: clamp(1em, 4vw, 1.5em);
            opacity: 0;
            animation: fadeInUp 1s ease-out 0.5s forwards;
        }

        @keyframes fadeInUp {
            from { 
                opacity: 0; 
                transform: translateY(20px); 
            }
            to { 
                opacity: 1; 
                transform: translateY(0); 
            }
        }

        .confetti {
            position: fixed;
            width: 10px;
            height: 10px;
            background: var(--pink);
            position: absolute;
            animation: confetti-fall 3s linear forwards;
        }

        @keyframes confetti-fall {
            to {
                transform: translateY(100vh) rotate(720deg);
                opacity: 0;
            }
        }

        .heart {
            position: fixed;
            font-size: 20px;
            animation: heart-float 4s ease-out forwards;
            pointer-events: none;
        }

        @keyframes heart-float {
            0% { 
                opacity: 1; 
                transform: translateY(0) scale(0);
            }
            50% {
                opacity: 1;
                transform: translateY(-50vh) scale(1.5);
            }
            100% { 
                opacity: 0; 
                transform: translateY(-100vh) scale(0.5);
            }
        }

        /* Mobile optimizations */
        @media (max-width: 480px) {
            .buttons {
                flex-direction: column;
                align-items: center;
                gap: 15px;
            }
            
            button {
                width: 200px;
                padding: 12px 30px;
            }
        }

        /* Prevent text selection on double tap */
        * {
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }

        /* Smooth transitions for all elements */
        .container, #thankYouContainer {
            transition: opacity 0.5s ease-out;
        }
    </style>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
</head>
<body>
    <div id="canvas-container"></div>
    
    <div class="container" id="mainContent">
        <h1>Will you be my girlfriend? üí´</h1>
        <div class="buttons">
            <button id="yesBtn">Yes üíñ</button>
            <button id="noBtn">No ‚ùå</button>
        </div>
    </div>

    <div id="thankYouContainer">
        <div id="thankYouMessage">THANK YOUUU üíñüò≠</div>
        <div class="subtitle">You made me the happiest person alive!</div>
    </div>

    <script>
        // Three.js Scene Setup
        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        const renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        renderer.setClearColor(0x000000, 0.8);
        document.getElementById('canvas-container').appendChild(renderer.domElement);

        // Create stars
        const starsGeometry = new THREE.BufferGeometry();
        const starsCount = 1500;
        const positions = new Float32Array(starsCount * 3);
        const colors = new Float32Array(starsCount * 3);

        for (let i = 0; i < starsCount * 3; i += 3) {
            positions[i] = (Math.random() - 0.5) * 150;
            positions[i + 1] = (Math.random() - 0.5) * 150;
            positions[i + 2] = (Math.random() - 0.5) * 150;
            
            // Add some color variation
            colors[i] = 0.8 + Math.random() * 0.2;
            colors[i + 1] = 0.8 + Math.random() * 0.2;
            colors[i + 2] = 0.9 + Math.random() * 0.1;
        }

        starsGeometry.setAttribute('position', new THREE.BufferAttribute(positions, 3));
        starsGeometry.setAttribute('color', new THREE.BufferAttribute(colors, 3));
        
        const starsMaterial = new THREE.PointsMaterial({ 
            size: 1,
            vertexColors: true,
            transparent: true,
            opacity: 0.8
        });
        const stars = new THREE.Points(starsGeometry, starsMaterial);
        scene.add(stars);

        // Create shooting stars
        const shootingStars = [];
        
        function createShootingStar() {
            const geometry = new THREE.SphereGeometry(0.1, 8, 8);
            const material = new THREE.MeshBasicMaterial({ 
                color: 0xffffff,
                transparent: true,
                opacity: 1
            });
            const shootingStar = new THREE.Mesh(geometry, material);
            
            shootingStar.position.set(
                Math.random() * 60 - 30,
                Math.random() * 40 + 20,
                Math.random() * 60 - 30
            );
            
            shootingStar.velocity = new THREE.Vector3(
                (Math.random() - 0.5) * 0.8,
                -Math.random() * 0.5 - 0.2,
                (Math.random() - 0.5) * 0.8
            );
            
            // Add trail effect
            const trailGeometry = new THREE.BufferGeometry();
            const trailPositions = new Float32Array(20 * 3);
            trailGeometry.setAttribute('position', new THREE.BufferAttribute(trailPositions, 3));
            const trailMaterial = new THREE.LineBasicMaterial({ 
                color: 0xffffff, 
                transparent: true, 
                opacity: 0.5 
            });
            const trail = new THREE.Line(trailGeometry, trailMaterial);
            shootingStar.trail = trail;
            shootingStar.trailPositions = [];
            
            scene.add(shootingStar);
            scene.add(trail);
            shootingStars.push(shootingStar);
        }

        camera.position.z = 40;

        // Animation loop
        function animate() {
            requestAnimationFrame(animate);
            
            // Rotate stars slowly
            stars.rotation.y += 0.0003;
            stars.rotation.x += 0.0001;
            
            // Animate shooting stars
            shootingStars.forEach((star, index) => {
                star.position.add(star.velocity);
                star.material.opacity -= 0.01;
                
                // Update trail
                star.trailPositions.push(star.position.clone());
                if (star.trailPositions.length > 20) {
                    star.trailPositions.shift();
                }
                
                const positions = new Float32Array(star.trailPositions.length * 3);
                star.trailPositions.forEach((pos, i) => {
                    positions[i * 3] = pos.x;
                    positions[i * 3 + 1] = pos.y;
                    positions[i * 3 + 2] = pos.z;
                });
                star.trail.geometry.setAttribute('position', new THREE.BufferAttribute(positions, 3));
                
                if (star.position.y < -30 || star.material.opacity <= 0) {
                    scene.remove(star);
                    scene.remove(star.trail);
                    shootingStars.splice(index, 1);
                }
            });
            
            // Randomly create shooting stars
            if (Math.random() < 0.015) {
                createShootingStar();
            }
            
            renderer.render(scene, camera);
        }

        animate();

        // Button functionality
        let noClickCount = 0;
        const noBtn = document.getElementById('noBtn');
        const yesBtn = document.getElementById('yesBtn');
        const mainContent = document.getElementById('mainContent');
        const thankYouContainer = document.getElementById('thankYouContainer');

        // No button movement (works on both hover and touch)
        function moveNoButton() {
            if (noClickCount < 100) {
                const maxX = window.innerWidth - noBtn.offsetWidth - 20;
                const maxY = window.innerHeight - noBtn.offsetHeight - 20;
                const newX = Math.random() * maxX;
                const newY = Math.random() * maxY;
                
                noBtn.style.position = 'fixed';
                noBtn.style.left = newX + 'px';
                noBtn.style.top = newY + 'px';
                
                // Add a little rotation for extra playfulness
                noBtn.style.transform = `rotate(${Math.random() * 20 - 10}deg)`;
            }
        }

        noBtn.addEventListener('mouseenter', moveNoButton);
        noBtn.addEventListener('touchstart', (e) => {
            e.preventDefault();
            moveNoButton();
        });

        noBtn.addEventListener('click', () => {
            noClickCount++;
            if (noClickCount >= 100) {
                noBtn.style.display = 'none';
            }
        });

        // Yes button with enhanced celebration
        yesBtn.addEventListener('click', () => {
            // Fade out main content
            mainContent.style.opacity = '0';
            
            setTimeout(() => {
                mainContent.style.display = 'none';
                thankYouContainer.style.display = 'block';
                
                // Create confetti with varied shapes and colors
                const colors = ['#ff6b6b', '#4ecdc4', '#45b7d1', '#f9ca24', '#f0932b', '#ff8e8e'];
                const shapes = ['üíù', 'üíï', 'üíó', '‚ú®', 'üåü'];
                
                for (let i = 0; i < 100; i++) {
                    setTimeout(() => {
                        // Regular confetti
                        const confetti = document.createElement('div');
                        confetti.className = 'confetti';
                        confetti.style.left = Math.random() * 100 + '%';
                        confetti.style.top = '-10px';
                        confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                        confetti.style.animationDelay = Math.random() * 0.5 + 's';
                        document.body.appendChild(confetti);
                        
                        setTimeout(() => confetti.remove(), 3000);
                        
                        // Heart confetti
                        if (Math.random() < 0.3) {
                            const heart = document.createElement('div');
                            heart.className = 'heart';
                            heart.textContent = shapes[Math.floor(Math.random() * shapes.length)];
                            heart.style.left = Math.random() * 100 + '%';
                            heart.style.top = Math.random() * 50 + 50 + '%';
                            heart.style.animationDelay = Math.random() * 1 + 's';
                            document.body.appendChild(heart);
                            
                            setTimeout(() => heart.remove(), 4000);
                        }
                    }, i * 30);
                }
                
                // Create shooting star celebration
                for (let i = 0; i < 5; i++) {
                    setTimeout(() => createShootingStar(), i * 200);
                }
            }, 500);
        });

        // Handle window resize
        window.addEventListener('resize', () => {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        });

        // Prevent zoom on double tap for mobile
        let lastTouchEnd = 0;
        document.addEventListener('touchend', (e) => {
            const now = Date.now();
            if (now - lastTouchEnd <= 300) {
                e.preventDefault();
            }
            lastTouchEnd = now;
        }, false);
    </script>
</body>
</html>